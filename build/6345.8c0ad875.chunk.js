"use strict";(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[6345],{76345:(B,M,t)=>{t.r(M),t.d(M,{default:()=>Ce});var e=t(53547),u=t(16550),g=t(86597),b=t(274),x=t.n(b),i=t(41580),E=t(86896),n=t(76835);const P=async()=>{try{return await(0,g.WY)(`/${x()}/component`,{method:"GET"})}catch{return null}},R=async()=>{try{return await(0,g.WY)(`/${x()}/content-types`,{method:"GET"})}catch{return null}},D=async()=>{try{return(await(0,g.WY)(`/${x()}/component`,{method:"POST"},!0)).json()}catch{return null}};var C=t(11047),l=t(32064),a=t(75515),m=t(89722),r=t(38939),d=t(8060),h=t(79031),y=t(37909),Z=t(15234),T=t(96315),j=t(94228),S=t(7681),O=t(3566),z=t(29728),de=t(19306),ce=t(42866),ue=t(24969),ge=t(59946),me=t(36856),V=t(85893);const he=o=>(0,V.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...o,children:(0,V.jsx)("path",{fill:"#212134",d:"M6.17 18a3 3 0 0 1 5.66 0H22v2H11.83a3 3 0 0 1-5.66 0H2v-2h4.17Zm6-7a3 3 0 0 1 5.66 0H22v2h-4.17a3 3 0 0 1-5.66 0H2v-2h10.17Zm-6-7a3.001 3.001 0 0 1 5.66 0H22v2H11.83a3 3 0 0 1-5.66 0H2V4h4.17Z"})}),Ee=he;var G=t(45349);const Q=t(25309).Z,J=({item:o})=>{const[c,f]=(0,e.useState)(!0),[L,w]=(0,e.useState)(!0),[k,H]=(0,e.useState)(!0),[A,I]=(0,e.useState)(!0),[F,W]=(0,e.useState)(!0),[q,_]=(0,e.useState)(!0),[ee,te]=(0,e.useState)(!0),[ae,ne]=(0,e.useState)(!0),[le,se]=(0,e.useState)(!0),[oe,re]=(0,e.useState)(!0),[N,ie]=(0,e.useState)(null),[Pe,K]=(0,e.useState)(!1),{formatMessage:p}=(0,E.Z)();(0,e.useEffect)(()=>{(async()=>{const v=await Q.get();ie(v)})()},[]);const Te=s=>{const v=N[o?.uid];f(v?.seoChecks?.metaTitle),w(v?.seoChecks?.metaDescription),H(v?.seoChecks?.metaRobots),I(v?.seoChecks?.metaSocial),W(v?.seoChecks?.wordCount),_(v?.seoChecks?.canonicalUrl),te(v?.seoChecks?.keywordDensity),ne(v?.seoChecks?.structuredData),se(v?.seoChecks?.alternativeText),re(v?.seoChecks?.lastUpdatedAt),K(Y=>!Y)},be=s=>{const v={...N,[o?.uid]:{collectionName:N[o?.uid]?.collectionName,seoChecks:{metaTitle:c,metaDescription:L,metaRobots:k,metaSocial:A,wordCount:F,canonicalUrl:q,keywordDensity:ee,structuredData:ae,alternativeText:le,lastUpdatedAt:oe}}};Q.set(v).then(async()=>{ie(v),K(Y=>!Y)})};return e.createElement(e.Fragment,null,e.createElement(z.z,{variant:"tertiary",startIcon:e.createElement(Ee,null),onClick:s=>Te(s)},p({id:(0,n.O)("SEOPage.info.config"),defaultMessage:"Settings"})),Pe&&e.createElement(ce.P,{onClose:()=>K(s=>!s),labelledBy:"title"},e.createElement(ue.x,null,e.createElement(a.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},p({id:(0,n.O)("SEOPage.info.settings"),defaultMessage:"Settings"}))),e.createElement(ge.f,null,e.createElement(i.x,{paddingBottom:8,paddingTop:4},e.createElement(g.Y_,{title:p({id:"Information",defaultMessage:"Information"}),subtitle:p({id:(0,n.O)("HomePage.info.settings.information"),defaultMessage:"Disable SEO checks for this specific content-type."}),icon:e.createElement(G.Z,null),iconBackground:"primary100"})),e.createElement(de.M,null,e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:c,onChange:()=>f(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.meta-title-check"),defaultMessage:"Meta Title"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:L,onChange:()=>w(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.meta-description-check"),defaultMessage:"Meta Description"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:k,onChange:()=>H(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.meta-robots-check"),defaultMessage:"Meta Robots"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:A,onChange:()=>I(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.meta-social-check"),defaultMessage:"Meta Social"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:F,onChange:()=>W(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.word-count-check"),defaultMessage:"Word Count"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:q,onChange:()=>_(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.canonical-url-check"),defaultMessage:"Canonical URL"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:ee,onChange:()=>te(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.keyword-density-check"),defaultMessage:"Keyword Density"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:ae,onChange:()=>ne(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.structured-data-check"),defaultMessage:"Structured Data"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:le,onChange:()=>se(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.alternative-text-check"),defaultMessage:"Alt Text"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(S.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:oe,onChange:()=>re(s=>!s)}),e.createElement(a.Z,{variant:"delta"},p({id:(0,n.O)("SEOPage.info.settings.last-updated-at-check"),defaultMessage:"Last Updated At"})))))),e.createElement(me.m,{startActions:e.createElement(z.z,{onClick:()=>K(s=>!s),variant:"tertiary"},p({id:(0,n.O)("SEOPage.info.settings.cancel.button"),defaultMessage:"Cancel"})),endActions:e.createElement(e.Fragment,null,e.createElement(z.z,{onClick:s=>be(s)},p({id:(0,n.O)("SEOPage.info.settings.save.button"),defaultMessage:"Save"})))})))};var fe=t(82777),U=t(77296),$=t(42761),pe=t(96486),X=t.n(pe);const ve=({contentTypes:o})=>{const{formatMessage:c}=(0,E.Z)();return e.createElement(e.Fragment,null,e.createElement(i.x,{padding:8},e.createElement(fe.v,{label:"label",id:"tabs",variant:"simple"},e.createElement(U.m,null,e.createElement(U.O,null,e.createElement(a.Z,null,c({id:(0,n.O)("SEOPage.tab.collection-type-title"),defaultMessage:"Collection Types"}))),e.createElement(U.O,null,e.createElement(a.Z,{variant:"omega"},c({id:(0,n.O)("SEOPage.tab.single-type-title"),defaultMessage:"Single Types"})))),e.createElement($.n,null,e.createElement($.x,null,e.createElement(r.i,{colCount:2,rowCount:o.collectionTypes.length},e.createElement(d.h,null,e.createElement(h.Tr,null,e.createElement(y.Th,null,e.createElement(a.Z,{variant:"sigma"},c({id:(0,n.O)("SEOPage.tab-panel.column-name"),defaultMessage:"Name"}))))),e.createElement(Z.p,null,o&&o.collectionTypes&&!X().isEmpty(o.collectionTypes)?o.collectionTypes.map(f=>e.createElement(h.Tr,{key:f.uid},e.createElement(y.Td,null,e.createElement(a.Z,{textColor:"neutral800"},f.globalId)),e.createElement(y.Td,null,e.createElement(C.k,{justifyContent:"right",alignItems:"right"},f.seo?e.createElement(J,{item:f}):e.createElement(l.Q,{startIcon:e.createElement(T.Z,null),variant:"secondary",to:`/plugins/content-type-builder/content-types/${f.uid}`},c({id:(0,n.O)("SEOPage.info.add"),defaultMessage:"Add component"})))))):e.createElement(i.x,{padding:8,background:"neutral0"},e.createElement(m.x,{icon:e.createElement(j.w,null),content:c({id:(0,n.O)("SEOPage.info.no-collection-types"),defaultMessage:"You don't have any collection-types yet..."}),action:e.createElement(l.Q,{to:"/plugins/content-type-builder",variant:"secondary",startIcon:e.createElement(T.Z,null)},c({id:(0,n.O)("SEOPage.info.create-collection-type"),defaultMessage:"Create your first collection-type"}))}))))),e.createElement($.x,null,e.createElement(r.i,{colCount:2,rowCount:o.singleTypes.length},e.createElement(d.h,null,e.createElement(h.Tr,null,e.createElement(y.Th,null,e.createElement(a.Z,{variant:"sigma"},c({id:(0,n.O)("SEOPage.tab-panel.column-name"),defaultMessage:"Name"}))))),e.createElement(Z.p,null,o&&o.singleTypes&&!X().isEmpty(o.singleTypes)?o.singleTypes.map(f=>e.createElement(h.Tr,{key:f.uid},e.createElement(y.Td,null,e.createElement(a.Z,{textColor:"neutral800"},f.globalId)),e.createElement(y.Td,null,e.createElement(C.k,{justifyContent:"right",alignItems:"right"},f.seo?e.createElement(J,{item:f}):e.createElement(l.Q,{startIcon:e.createElement(T.Z,null),variant:"secondary",to:`/plugins/content-type-builder/content-types/${f.uid}`},c({id:(0,n.O)("SEOPage.info.add"),defaultMessage:"Add component"})))))):e.createElement(i.x,{padding:8,background:"neutral0"},e.createElement(m.x,{icon:e.createElement(j.w,null),content:c({id:(0,n.O)("SEOPage.info.no-single-types"),defaultMessage:"You don't have any single-types yet..."}),action:e.createElement(l.Q,{to:"/plugins/content-type-builder",variant:"secondary",startIcon:e.createElement(T.Z,null)},c({id:(0,n.O)("SEOPage.info.create-single-type"),defaultMessage:"Create your first single-type"}))})))))))))};var ye=t(53979);const Se=o=>{const{formatMessage:c}=(0,E.Z)();return e.createElement(i.x,{background:"neutral100"},e.createElement(ye.A,{secondaryAction:o?null:e.createElement(LinkButton,{variant:"tertiary",to:"/plugins/content-type-builder/component-categories/shared/shared.seo",startIcon:e.createElement(Pencil,null)},c({id:(0,n.O)("SEOPage.header.button.edit-component"),defaultMessage:"Edit SEO component"})),title:c({id:(0,n.O)("SEOPage.header.title"),defaultMessage:"SEO"}),subtitle:c({id:(0,n.O)("SEOPage.header.subtitle"),defaultMessage:"Optimize your content to be SEO friendly"}),as:"h2"}))},Oe=()=>{const{formatMessage:o}=(0,E.Z)(),{lockAppWithAutoreload:c,unlockAppWithAutoreload:f}=(0,g.Vu)(),[L,w]=(0,e.useState)(!0),[k,H]=(0,e.useState)(!1),A=(0,e.useRef)({}),I=(0,e.useRef)({});return(0,e.useEffect)(()=>{(async()=>{if(A.current=await P(),I.current=await R(),!A.current)try{c(),await D()}catch(W){console.log(W)}finally{f(),H(!0)}})().then(()=>{w(!1)})},[k]),L?e.createElement(g.dO,null):e.createElement(e.Fragment,null,e.createElement(Se,{seoComponent:A.current}),e.createElement(i.x,{paddingLeft:8,paddingRight:8},e.createElement(g.Y_,{title:o({id:"Information",defaultMessage:"Information"}),subtitle:o({id:(0,n.O)("HomePage.info.information"),defaultMessage:"When adding your SEO component, make sure to name it 'seo' and to include it in the root of your Content-Type."}),icon:e.createElement(G.Z,null),iconBackground:"primary100"})),e.createElement(ve,{contentTypes:I.current}))},xe=(0,e.memo)(Oe);var Me=t(53487);const Ce=()=>e.createElement(g.O4,{permissions:Me.Z.main},e.createElement("div",null,e.createElement(u.rs,null,e.createElement(u.AW,{path:`/plugins/${x()}`,component:xe,exact:!0}),e.createElement(u.AW,{component:g.NotFound}))))},19306:(B,M,t)=>{t.d(M,{M:()=>u});var e=t(88972);const u=e.ZP.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: ${({theme:g})=>g.spaces[4]};
`},53979:(B,M,t)=>{t.d(M,{A:()=>C,T:()=>R});var e=t(85893),u=t(53547),g=t(88972);const b=l=>{const a=(0,u.useRef)(null),[m,r]=(0,u.useState)(!0),d=([h])=>{r(h.isIntersecting)};return(0,u.useEffect)(()=>{const h=a.current,y=new IntersectionObserver(d,l);return h&&y.observe(a.current),()=>{h&&y.disconnect()}},[a,l]),[a,m]};var x=t(79698);const i=(l,a)=>{const m=(0,x.W)(a);(0,u.useLayoutEffect)(()=>{const r=new ResizeObserver(m);return Array.isArray(l)?l.forEach(d=>{d.current&&r.observe(d.current)}):l.current&&r.observe(l.current),()=>{r.disconnect()}},[l,m])};var E=t(41580),n=t(11047),P=t(75515);const R=l=>{const a=(0,u.useRef)(null),[m,r]=(0,u.useState)(null),[d,h]=b({root:null,rootMargin:"0px",threshold:0});return i(d,()=>{d.current&&r(d.current.getBoundingClientRect())}),(0,u.useEffect)(()=>{a.current&&r(a.current.getBoundingClientRect())},[a]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:m?.height},ref:d,children:h&&(0,e.jsx)(C,{ref:a,...l})}),!h&&(0,e.jsx)(C,{...l,sticky:!0,width:m?.width})]})};R.displayName="HeaderLayout";const D=(0,g.ZP)(E.x)`
  width: ${({width:l})=>l?`${l/16}rem`:void 0};
  z-index: ${({theme:l})=>l.zIndices[1]};
`,C=u.forwardRef(({navigationAction:l,primaryAction:a,secondaryAction:m,subtitle:r,title:d,sticky:h,width:y,...Z},T)=>{const j=typeof r=="string";return h?(0,e.jsx)(D,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:y,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(n.k,{justifyContent:"space-between",children:[(0,e.jsxs)(n.k,{children:[l&&(0,e.jsx)(E.x,{paddingRight:3,children:l}),(0,e.jsxs)(E.x,{children:[(0,e.jsx)(P.Z,{variant:"beta",as:"h1",...Z,children:d}),j?(0,e.jsx)(P.Z,{variant:"pi",textColor:"neutral600",children:r}):r]}),m?(0,e.jsx)(E.x,{paddingLeft:4,children:m}):null]}),(0,e.jsx)(n.k,{children:a?(0,e.jsx)(E.x,{paddingLeft:2,children:a}):void 0})]})}):(0,e.jsxs)(E.x,{ref:T,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:l?6:8,background:"neutral100","data-strapi-header":!0,children:[l?(0,e.jsx)(E.x,{paddingBottom:2,children:l}):null,(0,e.jsxs)(n.k,{justifyContent:"space-between",children:[(0,e.jsxs)(n.k,{minWidth:0,children:[(0,e.jsx)(P.Z,{as:"h1",variant:"alpha",...Z,children:d}),m?(0,e.jsx)(E.x,{paddingLeft:4,children:m}):null]}),a]}),j?(0,e.jsx)(P.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:r}):r]})})},32064:(B,M,t)=>{t.d(M,{Q:()=>R});var e=t(85893),u=t(53547),g=t(73727),b=t(88972),x=t(92577),i=t(21817),E=t(11047),n=t(75515);const P=(0,b.ZP)(i.G)`
  &[aria-disabled='true'] {
    ${x.sg}
    &:active {
      ${x.sg}
    }
  }
  &:hover {
    ${x.yP}
  }
  &:active {
    ${x.tB}
  }
  ${x.PD}
`,R=u.forwardRef(({variant:D="default",startIcon:C,endIcon:l,disabled:a=!1,children:m,size:r="S",href:d,to:h,...y},Z)=>{const T=d?"_blank":void 0,j=d?"noreferrer noopener":void 0,S=r==="S"?2:"10px",O=4;return(0,e.jsxs)(P,{ref:Z,"aria-disabled":a,size:r,variant:D,target:T,rel:j,to:a?void 0:h,href:a?"#":d,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:S,paddingLeft:O,paddingRight:O,paddingTop:S,pointerEvents:a?"none":void 0,...y,as:h&&!a?g.OL:"a",children:[C&&(0,e.jsx)(E.k,{"aria-hidden":!0,children:C}),(0,e.jsx)(n.Z,{variant:r==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:m}),l&&(0,e.jsx)(E.k,{"aria-hidden":!0,children:l})]})})},45349:(B,M,t)=>{t.d(M,{Z:()=>g});var e=t(85893);const u=b=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 32",...b,children:[(0,e.jsx)("path",{fill:"#4945FF",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4Z"}),(0,e.jsx)("path",{fill:"#fff",d:"M15.733 8c.343 0 .678.108.963.31.285.202.507.49.639.826.13.337.165.707.098 1.064a1.879 1.879 0 0 1-.474.942 1.705 1.705 0 0 1-.887.504 1.64 1.64 0 0 1-1.002-.105 1.76 1.76 0 0 1-.778-.678A1.924 1.924 0 0 1 14 9.841a1.9 1.9 0 0 1 .508-1.302c.325-.345.766-.539 1.225-.539ZM20 24h-8v-2.265h2.933v-6.23H12.8v-2.266h4.267v8.495H20V24Z"})]}),g=u}}]);
